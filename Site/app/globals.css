@config "../tailwind.config.ts";
@import "tailwindcss";

/* =========================
   Theme tokens (class-based)
   ========================= */

/* LIGHT (default) */
:root {
  /* page background */
  --tw-background: 245 245 247;
  /* iOS grouped background-ish */
  --tw-foreground: 17 24 39;

  /* surfaces (sections/cards) */
  --tw-surface: 245 245 247;
  --tw-surface-2: 255 255 255;
  /* section/card = white in light mode */
  --tw-surface-3: 250 250 252;

  /* chrome */
  --tw-secondary: 142 142 147;
  /* iOS systemGray */
  --tw-divider: 142 142 147;
  --tw-border: 142 142 147;
  --tw-muted: 107 114 128;

  /* brand */
  --tw-brand: 255 178 0;
  /* #ffb200 */
  --tw-brand-foreground: 17 24 39;

  /* ring */
  --tw-ring: 59 130 246;

  /* glass tokens (optional) */
  --tw-glass-tint: 255 255 255;
  --tw-glass-border: 142 142 147;
  --tw-glass-highlight: 255 255 255;
}

/* DARK */
.dark {
  --tw-background: 0 0 0;
  --tw-foreground: 237 237 237;

  --tw-surface: 11 16 32;
  --tw-surface-2: 28 28 30;
  /* iOS dark grouped section */
  --tw-surface-3: 24 32 58;

  --tw-secondary: 142 142 147;
  --tw-divider: 142 142 147;
  --tw-border: 142 142 147;
  --tw-muted: 156 163 175;

  --tw-brand: 255 178 0;
  --tw-brand-foreground: 17 24 39;

  --tw-ring: 255 178 0;

  --tw-glass-tint: 30 30 32;
  --tw-glass-border: 80 80 85;
  --tw-glass-highlight: 255 255 255;
}

/* =========================
   Minimal global base
   ========================= */

html,
body {
  height: 100%;
}

body {
  background: rgb(var(--tw-background));
  color: rgb(var(--tw-foreground));
  font-family: Arial, Helvetica, sans-serif;
}

/* Safety reset (prevents “giant images” if preflight ever isn’t applied) */
img,
video {
  max-width: 100%;
  height: auto;
  display: block;
}

/* ============================================
   Micro-Animations (kept)
   ============================================ */

@keyframes like-pop {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.3);
  }

  100% {
    transform: scale(1);
  }
}

.animate-like-pop {
  animation: like-pop 140ms ease-out;
}

@keyframes slide-up-fade {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up-fade {
  animation: slide-up-fade 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes slide-up {
  0% {
    transform: translateY(100%);
  }

  100% {
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 350ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes fade-slide-in {
  0% {
    opacity: 0;
    transform: translateX(10px) scale(0.9);
  }

  100% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}

.animate-fade-slide-in {
  animation: fade-slide-in 200ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes fade-slide-out {
  0% {
    opacity: 1;
    transform: scale(1);
  }

  100% {
    opacity: 0;
    transform: scale(0.9);
  }
}

.animate-fade-slide-out {
  animation: fade-slide-out 150ms ease-in forwards;
}

@keyframes sidebar-slide-in {
  0% {
    opacity: 0;
    transform: translateX(20px);
  }

  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

.animate-sidebar-slide-in {
  animation: sidebar-slide-in 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes backdrop-fade-in {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
}

.animate-backdrop-fade-in {
  animation: backdrop-fade-in 200ms ease-out;
}

@keyframes bell-tap {
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(1.06);
  }

  100% {
    transform: scale(1);
  }
}

.animate-bell-tap {
  animation: bell-tap 120ms ease-out;
}

@keyframes reply-expand {
  0% {
    opacity: 0;
    transform: translateY(-8px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-reply-expand {
  animation: reply-expand 200ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes icon-tap {
  0% {
    transform: scale(1);
    opacity: 0.7;
  }

  50% {
    transform: scale(1.15);
    opacity: 1;
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-icon-tap {
  animation: icon-tap 130ms ease-out;
}

@keyframes comment-appear {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-comment-appear {
  animation: comment-appear 250ms cubic-bezier(0.32, 0.72, 0, 1);
}

/* Scrollbar utils */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.12);
  border-radius: 10px;
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.14);
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.2);
}

.dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.22);
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* =========================
   App utility classes
   ========================= */

@layer utilities {
  .cc-page {
    background-color: rgb(var(--tw-background));
    color: rgb(var(--tw-foreground));
    min-height: 100vh;
  }

  .cc-section {
    background-color: rgb(var(--tw-surface-2));
    border: 1px solid rgb(var(--tw-secondary) / 0.3);
    border-radius: 24px;
    box-shadow: 0 1px 3px rgb(0 0 0 / 0.06);
  }

  .cc-divider {
    height: 1px;
    background-color: rgb(var(--tw-secondary) / 0.3);
  }

  .cc-muted {
    color: rgb(var(--tw-muted));
  }

  .cc-avatar {
    border: 1px solid rgb(var(--tw-secondary) / 0.3);
    border-radius: 9999px;
    overflow: hidden;
  }

  /* Media wrappers */
  .cc-media {
    background-color: rgb(var(--tw-background));
    /* media bg same as page bg */
    border: 1px solid rgb(var(--tw-secondary) / 0.3);
    border-radius: 20px;
    overflow: hidden;
  }

  .cc-media-scroll {
    background-color: rgb(var(--tw-background));
    /* no stroke here */
    border-radius: 20px;
    overflow: hidden;
  }

  .cc-media-scroll-inner {
    display: flex;
    gap: 12px;
    overflow-x: auto;
    padding: 2px;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .cc-media-scroll-inner::-webkit-scrollbar {
    display: none;
  }

  /* Shadows + radii */
  .cc-shadow-soft {
    box-shadow: 0 20px 48px -12px rgba(0, 0, 0, 0.22), 0 8px 18px -8px rgba(0, 0, 0, 0.12);
  }

  .dark .cc-shadow-soft {
    box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.55), 0 10px 25px -10px rgba(0, 0, 0, 0.45);
  }

  /* Apple-style floating shadow (~50dp elevation) */
  .cc-shadow-floating {
    box-shadow:
      0 32px 64px -16px rgba(0, 0, 0, 0.18),
      0 16px 32px -16px rgba(0, 0, 0, 0.12),
      0 0 40px 0 rgba(0, 0, 0, 0.04);
  }

  .dark .cc-shadow-floating {
    box-shadow:
      0 40px 80px -16px rgba(0, 0, 0, 0.70),
      0 20px 40px -16px rgba(0, 0, 0, 0.55),
      0 0 50px 0 rgba(0, 0, 0, 0.30);
  }

  .cc-radius-24 {
    border-radius: 24px;
  }

  .cc-radius-menu {
    border-radius: 18px;
  }

  /* Glass (real backdrop blur + tint; NOT element opacity) */
  .cc-glass {
    background: rgb(var(--tw-glass-tint) / 0.82);
    -webkit-backdrop-filter: blur(2px);
    backdrop-filter: blur(2px);
    border: 1px solid rgb(var(--tw-glass-border) / 0.12);
    box-shadow: 0 20px 50px rgb(0 0 0 / 0.15);
  }

  .dark .cc-glass {
    background: rgb(var(--tw-glass-tint) / 0.75);
    box-shadow: 0 25px 60px rgb(0 0 0 / 0.45);
  }

  .cc-glass-strong {
    background: rgb(var(--tw-glass-tint) / 0.86);
    -webkit-backdrop-filter: blur(4px) saturate(102%);
    backdrop-filter: blur(4px) saturate(102%);
    border: 1px solid rgb(var(--tw-glass-border) / 0.15);
    box-shadow: 0 28px 65px rgb(0 0 0 / 0.18);
  }

  .dark .cc-glass-strong {
    background: rgb(var(--tw-glass-tint) / 0.80);
    box-shadow: 0 32px 80px rgb(0 0 0 / 0.60);
  }

  .cc-glass-highlight {
    position: relative;
  }

  .cc-glass-highlight::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    background: linear-gradient(to bottom,
        rgb(var(--tw-glass-highlight) / 0.18),
        rgb(var(--tw-glass-highlight) / 0.06),
        rgb(var(--tw-glass-highlight) / 0.00));
  }

  .dark .cc-glass-highlight::before {
    background: linear-gradient(to bottom,
        rgb(var(--tw-glass-highlight) / 0.08),
        rgb(var(--tw-glass-highlight) / 0.03),
        rgb(var(--tw-glass-highlight) / 0.00));
  }
}